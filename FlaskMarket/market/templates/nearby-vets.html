





{% extends 'base.html' %}
{% block title %}
    LIVESTOCK MANAGEMENT SYSTEM
{% endblock %}
{% block content %}




<style>
    .small-box {
        display: inline-block;
        padding: 8px 16px;
        border: 1px solid #fff;  /* Border color */
        border-radius: 20px;  /* Rounded corners */
        background-color: transparent;
        color: black;  /* Text color */
        font-size: 14px;
        font-weight: 600;  /* Slightly bold */
        text-align: center;
        text-transform: uppercase; /* Makes text all caps */
        letter-spacing: 1px;  /* Spaced-out text */
        text-decoration: none;
        transition: all 0.3s ease-in-out;
    }
    
    .small-box:hover {
        background-color: rgba(17, 163, 163, 0.2);  /* Light hover effect */
        cursor: pointer;
    }
    
    .container2 {
        display: flex;
        gap: 10px; /* Space between buttons */
        justify-content: center; /* Center align */
        align-items: center;
        margin-top: 20px;
        position: absolute;
        top: 40px;
        left: -50px
    }

    .container {
        width: 100%;
        margin: 0 auto;
        position: absolute;
        top: 280px;
        left: 100px;

    }

    .custom-hr {
        position: absolute; /* Adjust position if needed */
        top: -150px;         /* Distance from the top */
        left: 240px;         /* Distance from the left */
        width: 60%;         /* Length of the line */
        height: 3px;        /* Thickness */
        background-color:rgb(182, 138, 18); /* Change to any color */
        border-radius: 10px; /* Makes the edges round */
        border: none; /* Remove default border */
    }

    .cards-wrapper {
        position: absolute;
        top: -40px;
        left: 200px;
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: flex-start;
    }

    .doctor-card {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        width: 300px;
        overflow: hidden;
        transition: transform 0.2s;
    }

    .doctor-card:hover {
        transform: translateY(-5px);
    }

    .doctor-image {
        width: 100%;
        height: 150px;
        position: relative;
    }

    .doctor-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        display: block;
    }

    .price-tag {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #fff;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 14px;
        font-weight: bold;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    .price-tag::before {
        margin-right: 2px;
    }

    .video-icon {
        position: absolute;
        top: 10px;
        left: 10px;
        background: #fff;
        padding: 5px;
        border-radius: 50%;
        font-size: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    .doctor-info {
        padding: 15px;
    }

    .doctor-name {
        font-size: 18px;
        font-weight: bold;
        color: #333;
        margin: 0;
    }

    .specialty {
        font-size: 14px;
        color: #666;
        margin: 5px 0;
        display: flex;
        align-items: center;
    }

    .rating {
        color: #f39c12;
        margin-left: 5px;
    }

    .rating::before {
        content: '★';
        margin-right: 3px;
    }

    .details {
        font-size: 14px;
        color: #666;
        margin: 10px 0;
    }

    .details li {
        margin-bottom: 5px;
        display: flex;
        align-items: center;
    }

    .details li::before {
        content: '○';
        margin-right: 8px;
        color: #3498db;
        font-size: 10px;
    }

    .buttons {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }

    .schedule-btn, .profile-btn {
        flex: 1;
        padding: 8px;
        border-radius: 4px;
        text-align: center;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .schedule-btn {
        background: #fff;
        border: 1px solid #3498db;
        color: #3498db;
    }

    .schedule-btn:hover {
        background: #3498db;
        color: #fff;
    }

    .profile-btn {
        background: #3498db;
        border: none;
        color: #fff;
    }

    .profile-btn:hover {
        background: #2980b9;
    }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1001;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        width: 400px;
        max-width: 90%;
        position: relative;
    }

    .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
        color: #333;
    }

    .modal-content h3 {
        margin-top: 0;
        font-family: 'Nunito', sans-serif;
        color: chocolate;
    }

    .modal-content form {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .modal-content label {
        font-size: 14px;
        color: #333;
        font-family: 'Montserrat', sans-serif;
    }

    .modal-content input,
    .modal-content select {
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
        font-family: 'Montserrat', sans-serif;
    }

    .modal-content button {
        padding: 10px;
        background: #3498db;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-family: 'Nunito', sans-serif;
    }

    .modal-content button:hover {
        background: #2980b9;
    }

    /* Floating Age Calculator Styles */
    .floating-container {
        position: fixed;
        right: 20px;
        top: 20px;
        background: rgba(255, 255, 255, 0.9);
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.3);
        z-index: 1000;
        width: 300px;
        height: auto;
    }

    .floating-container form {
        position: relative;
        height: 200px;
    }

    .floating-container label {
        font-family: Georgia, serif;
        color: #333;
    }

    .floating-container input[type="date"] {
        font-family: Pacifico, cursive;
        border: none;
        background: transparent;
        outline: none;
        color: transparent;
    }

    .floating-container input[type="date"]:focus {
        color: black;
    }

    .floating-container input[type="date"]:not(:focus):not(:valid) {
        color: transparent;
    }

    .floating-container select {
        font-family: Georgia, serif;
        padding: 5px;
        border-radius: 4px;
    }

    .floating-container button {
        font-family: Georgia, serif;
        padding: 8px 16px;
        background-color: #3498db;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .floating-container button:hover {
        background-color: #2980b9;
    }

    #resultBox {
        font-family: Georgia, serif;
        background: rgba(13, 170, 209, 0.7);
        color: black;
        padding: 10px;
        border-radius: 5px;
        text-align: center;
    }

    /* Initial hidden state for animation */
    .doctor-card {
        opacity: 0;
        transform: translateY(20px); /* Move down slightly */
        transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    }
    
    /* Apply visible state when animation starts */
    .doctor-card.show {
        opacity: 1;
        transform: translateY(0);
    }







    .search-button {
        background-color:rgb(40, 167, 135);
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
        border-radius: 5px;
        position: absolute;
        top: 90px;
        left: 1090px;
    }
    /* Floating search window */
    .search-container {
        position: absolute;
        top: 380px;
        left: 1200px;
        transform: translate(-50%, -50%) scale(0);
        width: 280px;
        background: white;
        padding: 20px;
        box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        opacity: 0;
        transition: all 0.3s ease-in-out;
        
    }

    .search-container.active {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }

    .close-btn {
        background: white;
        color: black;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        float: right;
    }

    input[type="text"], select {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .search-results {
        margin-top: 15px;
        text-align: left;
    }

    .pagination {
        display: flex;
        justify-content: center;
        margin-top: 10px;
    }

    .pagination button {
        margin: 5px;
        padding: 5px 10px;
        border: none;
        background: #007bff;
        color: white;
        cursor: pointer;
        border-radius: 5px;
    }

    .pagination button:disabled {
        background: #ccc;
        cursor: not-allowed;
    }






</style>
</head>
<body>

<!-- Vet Cards -->

<div class="container">


    <img src="https://media.istockphoto.com/id/1205560316/photo/smart-agritech-livestock-farming.jpg?s=612x612&w=0&k=20&c=Dv1kEQYiKalRSaeqDyFjFa54Gj6NKKOrx9Muk1bBlCg="
        style="border: none; position: absolute; top: -200px; left: -70px; width: 264px; height: 122px; border-radius: 10px; opacity: 0.50;">

    <p class="text-left" style="font-weight: bold; color: chocolate; font-size: 14px; top: -158px; left: 640px; position: absolute; font-family: 'Montserrat', sans-serif; font-size: 1.0rem;">LAP-PLATFORM</p>
    <p class="text-left" style="font-weight: bold; color: chocolate; font-size: 38px; left: 640px; top: -140px; position: absolute; font-family: 'Nunito', sans-serif; font-size: 2.5rem;">VET SERVICES</p>
        

        
    <a href="{{ url_for('home_page') }}">
        <div class="small-box" style="width: 100px; height: 40px; position: absolute; top: -30px; left: -40px;">Home</div>
    </a>
    
    <a href="{{ url_for('nearby_vets') }}">
        <div class="small-box" style="width: 100px; height: 60px; position: absolute; top: 40px; left: -40px;">Symptom Checker</div>
    </a>
    
    <a href="{{ url_for('nearby_vets') }}">
        <div class="small-box" style="width: 100px; height: 80px; position: absolute; top: 120px; left: -40px;">Search for Vet</div
    </a>


    <a href="{{ url_for('connect_farmers') }}">
        <div class="small-box" style="width: 110px; height: 80px; position: absolute; top: 200px; left: -40px;">Connect with Farmer</div>
    </a>

    <hr style="position: absolute; top: 100px; left: 100px;>"

    <p></p>

    <hr class="custom-hr">

    
    <div class="cards-wrapper">
        <!-- Card 1 -->
        <div class="doctor-card" data-vet-id="1" data-vet-name="Morgan Dayj">
            <div class="doctor-image">
                <img src="https://media.istockphoto.com/id/1794396556/photo/cow-farm-tablet-and-man-in-a-countryside-with-farming-and-animal-for-agriculture-monitoring.webp?a=1&b=1&s=612x612&w=0&k=20&c=BRuXNppfy24KaEX7_u7NnZKTjXpXPxGvLEBB32k5I0M=" 
                    style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
                <div class="price-tag"></div>
                <div class="video-icon"></div>
            </div>
            <div class="doctor-info">
                <h3 class="doctor-name">Morgan Dayj</h3>
                <p class="specialty" style="font-weight: bold;">Avian Influenza Specialist<span class="rating">5 (45 reviews)</span></p>
                <ul class="details">
                    <li>KMTC Animal Hospital</li>
                    <li>15 years experience</li>
                    <li>Next available: Tuesday, 9:00 AM</li>
                    <li>Open to all animals</li>
                </ul>
                <div class="buttons">
                    <button class="schedule-btn" onclick="openScheduleModal(this)">Schedule</button>
                    <button class="profile-btn" onclick="viewProfile(this)">View Profile</button>
                </div>
            </div>
        </div>

        <!-- Card 2 -->
        <div class="doctor-card" data-vet-id="2" data-vet-name="Maxwell Aray">
            <div class="doctor-image">
                <img src="https://media.istockphoto.com/id/1356555977/photo/shot-of-a-unrecognizable-veterinarian-putting-a-bandage-on-a-horse-on-a-farm.webp?a=1&b=1&s=612x612&w=0&k=20&c=17kwMFGflbYoXe_3ljZ4cwov5OBHIL62PcG7eHFnVQ0=" 
                    style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
                <div class="price-tag"></div>
                <div class="video-icon"></div>
            </div>
            <div class="doctor-info">
                <h3 class="doctor-name">Maxwell Aray</h3>
                <p class="specialty" style="font-weight: bold;">Anthrax Specialist<span class="rating">5 (38 reviews)</span></p>
                <ul class="details">
                    <li>Ndakaini Vets Clinics</li>
                    <li>7 years experience</li>
                    <li>Next available: Wednesday, 9:00 AM</li>
                    <li>Open to all Animals</li>
                </ul>
                <div class="buttons">
                    <button class="schedule-btn" onclick="openScheduleModal(this)">Schedule</button>
                    <button class="profile-btn" onclick="viewProfile(this)">View Profile</button>
                </div>
            </div>
        </div>

        <!-- Card 3 -->
        <div class="doctor-card" data-vet-id="3" data-vet-name="Jelani Ngige">
            <div class="doctor-image">
                <img src="https://media.istockphoto.com/id/1371820934/photo/contemporary-young-veterinarian-bending-over-desk-while-examining-dachshund.webp?a=1&b=1&s=612x612&w=0&k=20&c=CZvKbUBcr5MJlTVn7Mi8MFnFXTtuodyxYRrEhy59jek="
                    style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
                <div class="price-tag"></div>
                <div class="video-icon"></div>
            </div>
            <div class="doctor-info">
                <h3 class="doctor-name">Jelani Ngige</h3>
                <p class="specialty" style="font-weight: bold;">Foot And Mouth Specialist(FMD) <span class="rating">4.5 (32 reviews)</span></p>
                <ul class="details">
                    <li>Nakuru Vets</li>
                    <li>9 years experience</li>
                    <li>Next available: Monday, 8:00 AM</li>
                    <li>Open to domestic-hoofed animals</li>
                </ul>
                <div class="buttons">
                    <button class="schedule-btn" onclick="openScheduleModal(this)">Schedule</button>
                    <button class="profile-btn" onclick="viewProfile(this)">View Profile</button>
                </div>
            </div>
        </div>

        <!-- Card 4 -->
        <div class="doctor-card" data-vet-id="4" data-vet-name="Zara Michaels">
            <div class="doctor-image">
                <img src="https://images.unsplash.com/photo-1700665537604-412e89a285c3?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dmV0cyUyMGxvb2tpbmclMjBhZnRlciUyMGFuaW1hbHN8ZW58MHx8MHx8fDA%3D"
                    style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
                <div class="price-tag"></div>
                <div class="video-icon"></div>
            </div>
            <div class="doctor-info">
                <h3 class="doctor-name">Zara Michaels</h3>
                <p class="specialty" style="font-weight: bold;">Mad Cow Disease(BVN) <span class="rating">4.8 (40 reviews)</span></p>
                <ul class="details">
                    <li>Kenyatta Veterinary Practice</li>
                    <li>10 years experience</li>
                    <li>Next available: Thursday, 10:00 AM</li>
                    <li>Available to all Mammals</li>
                </ul>
                <div class="buttons">
                    <button class="schedule-btn" onclick="openScheduleModal(this)">Schedule</button>
                    <button class="profile-btn" onclick="viewProfile(this)">View Profile</button>
                </div>
            </div>
        </div>

        <!-- Card 5 -->
        <div class="doctor-card" data-vet-id="5" data-vet-name="Jean Belarus">
            <div class="doctor-image">
                <img src="https://media.istockphoto.com/id/1434687410/photo/portrait-of-happy-and-successful-african-american-doctor-man-working-inside-office-clinic.webp?a=1&b=1&s=612x612&w=0&k=20&c=9poWMqMdL4tiFlfB4oR3ZJOrKrc56TtuHqOzuI-vrl0="
                    style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
                <div class="price-tag"></div>
                <div class="video-icon"></div>
            </div>
            <div class="doctor-info">
                <h3 class="doctor-name">Jean Belarus</h3>
                <p class="specialty" style="font-weight: bold;">Respiratory Diseases Specialist<span class="rating">4.7 (35 reviews)</span></p>
                <ul class="details">
                    <li>Naivasha Mammal Center</li>
                    <li>8 years experience</li>
                    <li>Next available: Friday, 9:00 AM<br>Monday</li>
                    <li>Accepting new patients</li>
                </ul>
                <div class="buttons">
                    <button class="schedule-btn" onclick="openScheduleModal(this)">Schedule</button>
                    <button class="profile-btn" onclick="viewProfile(this)">View Profile</button>
                </div>
            </div>
        </div>

        <!-- Card 6 -->
        <div class="doctor-card" data-vet-id="6" data-vet-name="Clement Mbatia">
            <div class="doctor-image">
                <img src="https://media.istockphoto.com/id/1425798958/photo/photo-of-confident-female-doctor-in-hospital-looking-at-camera-with-smile.webp?a=1&b=1&s=612x612&w=0&k=20&c=2L3P5AC7hLyPdqo_8A5NybN_5QgsUNd49hzR2dYn5hQ="
                    style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
                <div class="price-tag"></div>
                <div class="video-icon"></div>
            </div>
            <div class="doctor-info">
                <h3 class="doctor-name">Clement Mbatia</h3>
                <p class="specialty" style="font-weight: bold;">Brucellosis Specialist <span class="rating">4.7 (35 reviews)</span></p>
                <ul class="details">
                    <li>Nakuru-Rongai Mammal Clinic</li>
                    <li>8 years experience</li>
                    <li>Next available: Friday, 9:00 AM <br>Saturday<br>Tuesday's</li>
                    <li>Open to all Animals</li>
                </ul>
                <div class="buttons">
                    <button class="schedule-btn" onclick="openScheduleModal(this)">Schedule</button>
                    <button class="profile-btn" onclick="viewProfile(this)">View Profile</button>
                </div>
            </div>
        </div>
    </div>
</div>





<!-- Schedule Modal -->
<div id="scheduleModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">×</span>
        <h3>Schedule Appointment with <span id="modalVetName"></span></h3>
        <form id="scheduleForm" onsubmit="submitAppointment(event)">
            <label for="appointmentDate">Select Date:</label>
            <input type="date" id="appointmentDate" name="appointmentDate" required>

            <label for="appointmentTime">Select Time:</label>
            <select id="appointmentTime" name="appointmentTime" required>
                <option value="09:00 AM">09:00 AM</option>
                <option value="10:00 AM">10:00 AM</option>
                <option value="11:00 AM">11:00 AM</option>
                <option value="02:00 PM">02:00 PM</option>
                <option value="03:00 PM">03:00 PM</option>
            </select>

            <label for="animalType">Animal Type:</label>
            <input type="text" id="animalType" name="animalType" placeholder="e.g., Dog, Cow, Horse" required>

            <label for="ownerName">Your Name:</label>
            <input type="text" id="ownerName" name="ownerName" required>

            <label for="ownerEmail">Your Email:</label>
            <input type="email" id="ownerEmail" name="ownerEmail" required>

            <button type="submit">Book Appointment</button>
        </form>
    </div>
</div>

<!-- Profile Modal -->
<div id="profileModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeProfileModal()">×</span>
        <h3>Profile of <span id="modalProfileVetName"></span></h3>
        <div id="vetProfileDetails">
            <p><strong>Specialty:</strong> <span id="modalVetSpecialty"></span></p>
            <p><strong>Clinic:</strong> <span id="modalVetClinic"></span></p>
            <p><strong>Experience:</strong> <span id="modalVetExperience"></span></p>
            <p><strong>Availability:</strong> <span id="modalVetAvailability"></span></p>
            <p><strong>Accepting:</strong> <span id="modalVetAccepting"></span></p>
            <p><strong>Rating:</strong> <span id="modalVetRating"></span></p>
        </div>
    </div>
</div>





    <button class="search-button" onclick="openSearch()">Search Animal</button>

    <!-- Floating Search Window -->
    <div id="search-box" class="search-container">
        <button class="close-btn" onclick="closeSearch()">X</button>
        <h3>Search Animal</h3>
        <input type="text" id="search-input" placeholder="Enter animal name..." oninput="fetchSearchResults()">
        
        <label for="sort">Sort by:</label>
        <select id="sort" onchange="fetchSearchResults()">
            <option value="price_asc">Price (Low to High)</option>
            <option value="price_desc">Price (High to Low)</option>
            <option value="rating_desc">Rating (High to Low)</option>
            <option value="rating_asc">Rating (Low to High)</option>
        </select>

        <div class="search-results" id="search-results"></div>

        <div class="pagination">
            <button id="prev-page" onclick="changePage(-1)" disabled>Prev</button>
            <button id="next-page" onclick="changePage(1)" disabled>Next</button>
        </div>
    </div>

<script>

    document.addEventListener("DOMContentLoaded", function () {
        const cards = document.querySelectorAll(".doctor-card");

        cards.forEach((card, index) => {
            setTimeout(() => {
                card.classList.add("show");
            }, index * 200); // Delay each card slightly
        });
    });

    // Schedule Modal Functionality
    let currentVetId = null;

    function openScheduleModal(button) {
        const card = button.closest('.doctor-card');
        const vetName = card.getAttribute('data-vet-name');
        currentVetId = card.getAttribute('data-vet-id');

        document.getElementById('modalVetName').textContent = vetName;
        document.getElementById('scheduleModal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('scheduleModal').style.display = 'none';
        document.getElementById('scheduleForm').reset();
    }

    function submitAppointment(event) {
        event.preventDefault();

        const appointmentDate = document.getElementById('appointmentDate').value;
        const appointmentTime = document.getElementById('appointmentTime').value;
        const animalType = document.getElementById('animalType').value;
        const ownerName = document.getElementById('ownerName').value;
        const ownerEmail = document.getElementById('ownerEmail').value;

        // Simulate sending data to a server (replace with actual API call)
        console.log({
            vetId: currentVetId,
            vetName: document.getElementById('modalVetName').textContent,
            appointmentDate,
            appointmentTime,
            animalType,
            ownerName,
            ownerEmail
        });

        alert(`Appointment booked successfully with ${document.getElementById('modalVetName').textContent} on ${appointmentDate} at ${appointmentTime} for your ${animalType}!`);
        closeModal();
    }

    // View Profile Functionality
    function viewProfile(button) {
        const card = button.closest('.doctor-card');
        const vetName = card.getAttribute('data-vet-name');
        const specialty = card.querySelector('.specialty').textContent.split('★')[0].trim();
        const details = card.querySelectorAll('.details li');
        const clinic = details[0].textContent;
        const experience = details[1].textContent;
        const availability = details[2].textContent.replace('Next available: ', '');
        const accepting = details[3].textContent;
        const rating = card.querySelector('.rating').textContent;

        // Populate profile modal
        document.getElementById('modalProfileVetName').textContent = vetName;
        document.getElementById('modalVetSpecialty').textContent = specialty;
        document.getElementById('modalVetClinic').textContent = clinic;
        document.getElementById('modalVetExperience').textContent = experience;
        document.getElementById('modalVetAvailability').textContent = availability;
        document.getElementById('modalVetAccepting').textContent = accepting;
        document.getElementById('modalVetRating').textContent = rating;

        document.getElementById('profileModal').style.display = 'flex';
    }

    function closeProfileModal() {
        document.getElementById('profileModal').style.display = 'none';
    }

    // Close modals when clicking outside
    window.onclick = function(event) {
        const scheduleModal = document.getElementById('scheduleModal');
        const profileModal = document.getElementById('profileModal');
        if (event.target === scheduleModal) {
            closeModal();
        }
        if (event.target === profileModal) {
            closeProfileModal();
        }
    };







    let currentPage = 1;

        function openSearch() {
            document.getElementById('search-box').classList.add('active');
        }

        function closeSearch() {
            document.getElementById('search-box').classList.remove('active');
        }

        function fetchSearchResults() {
            let query = document.getElementById("search-input").value;
            let sortBy = document.getElementById("sort").value;

            fetch('/search', {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    animal_name: query,
                    sort_by: sortBy,
                    page: currentPage
                })
            })
            .then(response => response.json())
            .then(data => {
                let resultsContainer = document.getElementById("search-results");
                resultsContainer.innerHTML = "";

                if (data.results.length === 0) {
                    resultsContainer.innerHTML = "<p>No results found.</p>";
                } else {
                    data.results.forEach(item => {
                        resultsContainer.innerHTML += `<p><strong>${item[1]}</strong> - ${item[2]}, Price: $${item[3]}, Rating: ${item[4]}</p>`;
                    });
                }

                // Pagination controls
            
            });
        }

        function changePage(offset) {
            currentPage += offset;
            fetchSearchResults();
        }


</script>
</body>


{% endblock %}